{% extends "base.html" %}
{% block title %}Ğ ĞµĞ´Ğ°Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ â€” Agro Admin{% endblock %}
{% block page_title %}âœï¸ Ğ ĞµĞ´Ğ°Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ{% endblock %}
{% block page_desc %}{{ table }} Â· Ğ·Ğ°Ğ¿Ğ¸Ñ #{{ row[pk] }}{% endblock %}

{% block content %}
<div class="card" style="margin-bottom:16px">
  <a href="{{ back_url or '/logistics' }}" class="btn btn-sm">â¬…ï¸ ĞĞ°Ğ·Ğ°Ğ´</a>
</div>

<div class="card">
  <form method="post">
    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px">
      {% for c in cols %}
        {% if c not in ('id', 'created_at', 'owner_user_id', 'creator_user_id') %}
        <div>
          <label style="display:block;font-size:12px;color:var(--tm);margin-bottom:6px;font-weight:600">{{ c }}</label>
          {% if c == pk %}
            <input class="input" name="{{ c }}" value="{{ row[c] }}" readonly style="opacity:0.5"/>
          {% elif c == 'status' %}
            <select class="input" name="{{ c }}">
              {% if table == 'shipments' %}
                <option value="active" {% if row[c]=='active' %}selected{% endif %}>âœ… active</option>
                <option value="done" {% if row[c]=='done' %}selected{% endif %}>âœ”ï¸ done</option>
                <option value="cancelled" {% if row[c]=='cancelled' %}selected{% endif %}>âŒ cancelled</option>
              {% else %}
                <option value="available" {% if row[c]=='available' %}selected{% endif %}>âœ… available</option>
                <option value="busy" {% if row[c]=='busy' %}selected{% endif %}>ğŸ”´ busy</option>
              {% endif %}
            </select>
          {% elif c == 'body_type' %}
            <select class="input" name="{{ c }}">
              <option value="grain" {% if row[c]=='grain' %}selected{% endif %}>ğŸŒ¾ grain â€” Ğ—ĞµÑ€Ğ½Ğ¾Ğ²Ğ¾Ğ·</option>
              <option value="tipper" {% if row[c]=='tipper' %}selected{% endif %}>ğŸª¨ tipper â€” Ğ¡Ğ°Ğ¼Ğ¾ÑĞºĞ¸Ğ´</option>
              <option value="tarp" {% if row[c]=='tarp' %}selected{% endif %}>ğŸ§µ tarp â€” Ğ¢ĞµĞ½Ñ‚</option>
            </select>
          {% elif c == 'comment' %}
            <textarea class="input" name="{{ c }}" rows="3" style="resize:vertical">{{ row[c] or '' }}</textarea>
          {% else %}
            <input class="input" name="{{ c }}" value="{{ row[c] or '' }}" />
          {% endif %}
        </div>
        {% endif %}
      {% endfor %}
    </div>

    <div style="margin-top:20px;display:flex;gap:10px;align-items:center">
      <button class="btn" type="submit">ğŸ’¾ Ğ—Ğ±ĞµÑ€ĞµĞ³Ñ‚Ğ¸</button>
      <a class="btn" href="{{ back_url or '/logistics' }}" style="background:#f3f4f6;color:#374151">Ğ¡ĞºĞ°ÑÑƒĞ²Ğ°Ñ‚Ğ¸</a>
    </div>
  </form>
</div>
{% endblock %}
